<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>관리자 추가 등록</title>
<link rel="stylesheet" type="text/css" href="./css/default.css?v=1">
<link rel="stylesheet" type="text/css" href="./css/add.css?v=3">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
<div class="logo"><img src="./img/logo.png"><label>ADMINISTRATOR ADD</label></div>
<form id="add">
<section>
<ul class="ulcss">
<li>아이디 및 패스워드 정보</li>
<li><input type="text" name="aid" placeholder="생성할 관리자 아이디를 입력하세요" style="float:left;" class="t1" id="newid"><span onclick="idck()">중복체크</span></li>
<li><input type="password" name="apw" placeholder="접속할 패스워드를 입력하세요" class="pw1 p"><input type="password" placeholder="동일한 패스워드를 입력하세요" class="pw2 p"></li>
<li>관리자 기본정보 입력</li>
<li><input type="text" name="aname" placeholder="담당자 이름을 입력하세요" class="t1"></li>
<li><input type="text" name="aemail" placeholder="담당자 이메일을 입력하세요" class="mail"></li>
<li><input type="text" class="tt" placeholder="000" maxlength="3" onkeyup="this.value =this.value.replace(/[^0-9]/g,'')">-<input type="text" class="tt" placeholder="0000" maxlength="4" onkeyup="this.value =this.value.replace(/[^0-9]/g,'')">-<input type="text" class="tt" placeholder="0000" maxlength="4" onkeyup="this.value =this.value.replace(/[^0-9]/g,'')"></li>
<li>관리자 담당부서 및 직책</li>
<li>
<select name="adpt">
<option value=" ">담당자 부서를 선택하세요</option>""
<option value="임원">임원</option>
<option value="전산팀">전산팀</option>
<option value="디자인팀">디자인팀</option>
<option value="CS팀">CS팀</option>
<option value="MD팀">MD팀</option>
<option value="영업팀">영업팀</option>
</select>
<select name="apst">
<option value=" ">담당자 직책을 선택하세요</option>
<option value="대표">대표</option>
<option value="부장">부장</option>
<option value="팀장">팀장</option>
<option value="과장">과장</option>
<option value="대리">대리</option>
<option value="주임">주임</option>
<option value="사원">사원</option>
</select></li>
<li>※가입완료 후 전산 담당자가 확인 후 로그인 할 수 있습니다.</li>
<li><div onclick="join()">관리자 등록</div><div>등록 취소</div></li>
</ul>
</section>
<input type="hidden" value="" name="atel">
</form>

</body>
<script>
var iddata;
var htmlid = new XMLHttpRequest();
htmlid.onreadystatechange = function(){
	if(htmlid.readyState === XMLHttpRequest.DONE){
		if(htmlid.status ===200){
			iddata = JSON.parse(this.response);
			idc(iddata);
		}
	}
	
}
htmlid.open("GET","./idck.do",true);
htmlid.send();
var idcnt=0;
function idc(data){
	data.forEach(function(a){
		if(document.getElementById("newid").value==a.aid){
			idcnt++
		}
		
	})
	 
	
}
function idck(){
	if(document.getElementById("newid").value!=""){
	if(idcnt>0){
		alert("중복된 아이디 입니다.")
		document.getElementById("newid").value="";
		document.getElementById("newid").focus();
		
	}
	else{
		alert("사용가능한 아이디 입니다.");
	}
	}
	else{
		alert("아이디를 입력해 주세요")
	}
}

</script>

<script src="./js/add.js?v=3"></script>
</html>